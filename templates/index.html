<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notion Database</title>
    <style>
        #sidebar {
            position: fixed;
            right: -400px;
            top: 0;
            width: 400px;
            height: 100%;
            background-color: white;
            box-shadow: -2px 0 5px rgba(0,0,0,0.3);
            transition: right 0.3s ease-in-out;
            padding: 20px;
            overflow-y: auto;
        }
        #sidebar.active {
            right: 0;
        }
        #close-sidebar {
            display: block;
            margin-bottom: 10px;
            text-align: right;
            cursor: pointer;
        }
        body { font-family: Arial, sans-serif; padding: 20px; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        table, th, td { border: 1px solid #ccc; }
        th, td { padding: 8px; text-align: left; }
        th { background-color: #f5f5f5; }
    </style>
    <script>
        function loadPageContent(pageId) {
          fetch(`/get-page-content/${pageId}`)
            .then(response => response.json())
            .then(data => {
              document.getElementById("page-content").innerHTML = data.content.join("<br>");
              document.getElementById("sidebar").classList.add("active");
            })
            .catch(error => console.error("Error:", error));
        }
        function closeSidebar() {
          document.getElementById("sidebar").classList.remove("active");
        }
      </script>
</head>
<body>
  <h1>전체 브랜드 리스트 (페이지 {{ current_page }} / {{ total_pages }})</h1>
  <div id="table-container">
    {{ table|safe }}
  </div>
  <div style="margin-top:20px;">
    {% if current_page > 1 %}
    <a href="/?page={{ current_page - 1 }}">이전 페이지</a>
    {% endif %}
    {% if current_page < total_pages %} <a href="/?page={{ current_page + 1 }}">다음 페이지</a>
      {% endif %}
  </div>
  <!-- Sidebar 영역 -->
  <div id="sidebar">
    <span id="close-sidebar" onclick="closeSidebar()">❌ 닫기</span>
    <h2>선택한 브랜드 상세 콘텐츠</h2>
    <div id="page-content">여기에 상세 콘텐츠가 표시됩니다.</div>
    </div>
</body>
</html>